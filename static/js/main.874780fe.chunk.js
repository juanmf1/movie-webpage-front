(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(39),r=a.n(n),i=(a(103),a(7)),o=(a(104),a(105),a(69)),l=a(71),j=a(84),d=a(35),m=a.n(d),b=a(70),u=a(10),h=a(1),x=function(e){var t=e.show,a=e.close,s=e.query,n=e.handleQueryChange,r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(!1),x=Object(i.a)(d,2),O=(x[0],x[1]);return Object(c.useEffect)((function(){fetch("https://yts.mx/api/v2/list_movies.json?query_term=".concat(s,"&order_by=asc")).then((function(e){return e.json()})).then((function(e){return j(e.data.movies)})),O(!1)}),[s]),Object(h.jsxs)(b.a,{className:"search-canvas",show:t,onHide:a,children:[Object(h.jsx)(b.a.Header,{className:"header-canvas",closeButton:!0,children:Object(h.jsx)(b.a.Title,{children:"Search engine"})}),Object(h.jsxs)(b.a.Body,{children:[Object(h.jsx)("div",{className:"d-flex",children:Object(h.jsx)(u.a,{className:"w-100",children:Object(h.jsx)(u.a.Control,{value:s,onChange:n,type:"text",placeholder:"Search a movie..."})})}),l&&l.map((function(e){return Object(h.jsx)(m.a,{className:"text-decoration-none",onClick:a,to:"/movie/".concat(e.id),children:Object(h.jsxs)("div",{className:"d-flex align-items-center query-link my-2 p-2",children:[Object(h.jsx)("img",{src:e.small_cover_image,alt:"movie-cover"}),Object(h.jsxs)("p",{className:"ms-2 h5",children:[e.title," (",e.year,")"]})]})})}))]})]})},O=a(20),p=a.p+"static/media/movie.8691b416.png",f=function(e){var t=e.user,a=e.onLogout,s=e.onShowLoginModal,n=e.onShowSignupModal,r=e.onShowEditUserModal,d=Object(c.useState)(null),b=Object(i.a)(d,2),u=b[0],f=b[1],v=Object(c.useState)(null),g=Object(i.a)(v,2),N=g[0],w=g[1],k=function(){w(!0)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(o.a,{sticky:"top",variant:"dark",className:"px-4 py-3 navbar-custom",expand:"lg",children:[Object(h.jsx)(o.a.Brand,{className:"item-navbar",children:Object(h.jsx)(m.a,{to:"/",className:"text-white text-decoration-none",children:Object(h.jsxs)("div",{className:"logo-div d-flex align-items-center",children:[Object(h.jsx)("img",{className:"mx-1 logo",src:p}),"Proyecto Final"]})})}),t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(o.a.Collapse,{className:"justify-content-center",id:"basic-navbar-nav",children:Object(h.jsxs)(l.a,{className:"ms-auto align-items-center",children:[Object(h.jsx)(l.a.Link,{className:"px-3 d-none d-lg-block",onClick:k,href:"",children:Object(h.jsx)("i",{className:"bi bi-search"})}),Object(h.jsx)(O.a,{className:"w-100 mt-3 d-lg-none search-button",onClick:k,children:"Search"}),Object(h.jsx)(m.a,{className:"text-decoration-none",children:Object(h.jsxs)(l.a.Link,{className:"",href:"",children:[Object(h.jsx)("i",{className:"bi bi-shuffle me-1"})," Discover a new title"]})}),Object(h.jsx)(l.a.Link,{className:"",href:"",children:Object(h.jsxs)(m.a,{className:"text-decoration-none nav-bookmark",to:"/bookmarks",children:[Object(h.jsx)("i",{className:"bi bi-bookmark-star-fill me-1"})," Bookmarks"]})}),Object(h.jsxs)(j.a,{align:"end",menuVariant:"dark",title:t,id:"basic-nav-dropdown",children:[Object(h.jsx)(j.a.Item,{onClick:r,children:"Modify Information"}),Object(h.jsx)(j.a.Item,{onClick:a,children:"Log Out"})]})]})})]}):Object(h.jsxs)("div",{className:"ms-auto",children:[Object(h.jsx)(O.a,{onClick:n,variant:"secondary",className:"me-2 px-3",children:"Sign up"}),Object(h.jsx)(O.a,{onClick:s,variant:"warning",className:"me-2 px-3",children:"Log In"})]})]}),Object(h.jsx)(x,{show:N,close:function(){w(!1),f(null)},query:u,handleQueryChange:function(e){f(e.target.value)}})]})},v=a(17),g=a.n(v),N=a(50),w=a(23),k=a(90),y=a(25),S=a(44),C=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],n="https://yts.mx/api/v2/movie_details.json?movie_id=";function r(){return(r=Object(w.a)(g.a.mark((function e(){var t,a,c,r,i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("".concat(n,"33990"));case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,t=[].concat(Object(N.a)(t),[c.data.movie]),e.next=10,fetch("".concat(n,"34390"));case 10:return r=e.sent,e.next=13,r.json();case 13:return i=e.sent,t=[].concat(Object(N.a)(t),[i.data.movie]),e.next=17,fetch("".concat(n,"34544"));case 17:return o=e.sent,e.next=20,o.json();case 20:l=e.sent,t=[].concat(Object(N.a)(t),[l.data.movie]),s(t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(h.jsx)(h.Fragment,{children:a?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(k.a,{controls:!1,fade:!0,className:"mb-3 d-flex",children:a.map((function(e){return Object(h.jsxs)(k.a.Item,{className:"carousel-principal",children:[Object(h.jsxs)("div",{className:"h-50 d-none d-md-flex px-2 py-2",style:{backgroundImage:"url(".concat(e.background_image_original,")"),backgroundSize:"cover"},children:[Object(h.jsx)("img",{className:"ms-lg-5 p-5 d-block img-caratula-carousel",src:e.medium_cover_image,alt:"caratula pelicula"}),Object(h.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-start",children:[Object(h.jsx)("h3",{className:"h1 title-carousel p-2",children:e.title}),Object(h.jsx)("p",{className:"description-carousel d-none d-md-block px-3 py-2",children:e.description_intro}),Object(h.jsx)(m.a,{to:"/movie/".concat(e.id),children:Object(h.jsx)(O.a,{variant:"warning",className:"mt-2 px-5 py-3",children:"Download now"})})]})]}),Object(h.jsx)("div",{className:"back-mobile h-50 d-flex d-md-none p-5",style:{backgroundImage:"url(".concat(e.large_cover_image,")"),backgroundSize:"cover",backgroundPosition:"center"},children:Object(h.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(h.jsx)("h3",{className:"h1 title-carousel p-2",children:e.title}),Object(h.jsx)("p",{className:"description-carousel px-3 py-2",children:e.description_intro}),Object(h.jsx)(m.a,{to:"/movie/".concat(e.id),children:Object(h.jsx)(O.a,{variant:"warning",className:"mt-2 px-5 py-3",children:"Download now"})})]})})]})}))})}):Object(h.jsx)(y.a,{className:"container-loading-carrousel w-100 d-flex justify-content-center align-items-center",fluid:!0,children:Object(h.jsx)(S.a,{animation:"border",variant:"warning",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},_=function(){return Object(h.jsxs)(y.a,{fluid:!0,className:"p-4 mb-5 mb-sm-0 footer-container d-flex flex-column flex-md-row justify-content-center align-items-center",children:[Object(h.jsx)("div",{className:"footer-right m-2",children:Object(h.jsx)("p",{children:"Juan Manuel Fernandez. 2021 |"})}),Object(h.jsxs)("div",{className:"footer-social mx-2 d-flex align-items-center",children:[Object(h.jsx)("a",{href:"https://github.com/juanmf1",target:"_blank",children:Object(h.jsx)("i",{className:"bi bi-github mx-2"})}),Object(h.jsx)("a",{href:"https://www.instagram.com/juan.mf1/",target:"_blank",children:Object(h.jsx)("i",{className:"bi bi-instagram mx-2"})}),Object(h.jsx)("a",{href:"https://www.facebook.com/JuuanMFernandez",target:"_blank",children:Object(h.jsx)("i",{className:"bi bi-facebook mx-2"})}),Object(h.jsx)("a",{href:"https://wa.me/541140410915",target:"_blank",children:Object(h.jsx)("i",{className:"bi bi-whatsapp mx-2"})})]})]})},E=a(18),L=a(48),B=a(96),I=a(31),P=a(95),G=a(97),T=function(e){var t=e.user,a=Object(c.useState)(null),s=Object(i.a)(a,2),n=s[0],r=s[1],o=Object(c.useState)(Object(h.jsx)("li",{})),l=Object(i.a)(o,2),j=l[0],d=l[1],m=Object(c.useState)([]),b=Object(i.a)(m,2),u=b[0],x=b[1],O=Object(c.useState)(!1),p=Object(i.a)(O,2),f=p[0],v=p[1],k=Object(c.useState)("movieName"),C=Object(i.a)(k,2),_=C[0],T=C[1],F=Object(c.useState)("movieCover"),D=Object(i.a)(F,2),z=D[0],M=D[1],J=Object(E.useParams)().id,H="https://yts.mx/api/v2/movie_details.json?movie_id=".concat(J),V="https://server-moviewebpage.herokuapp.com/favoritos/".concat(J);Object(c.useEffect)(Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V,{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:"hay favorito"===e.sent.message?v(!0):v(!1);case 7:case"end":return e.stop()}}),e)}))),[t]);var q,U,R,Y=function(e){if(e.preventDefault(),f)fetch(V,{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),v(!1);else{var t={movieName:_,movieCover:z};fetch(V,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),v(!0)}};return q=f?Object(h.jsx)("i",{onClick:Y,className:"bookmark-sm ms-auto bi bi-bookmark-heart-fill"}):Object(h.jsx)("i",{onClick:Y,className:"bookmark-sm ms-auto bi bi-bookmark-heart"}),U=f?Object(h.jsx)("i",{onClick:Y,className:"bookmark-md ms-auto bi bi-bookmark-heart-fill"}):Object(h.jsx)("i",{onClick:Y,className:"bookmark-md ms-auto bi bi-bookmark-heart"}),R=f?Object(h.jsx)("i",{onClick:Y,className:"bookmark-xl ms-auto bi bi-bookmark-heart-fill"}):Object(h.jsx)("i",{onClick:Y,className:"bookmark-xl ms-auto bi bi-bookmark-heart"}),Object(c.useEffect)((function(){function e(){return(e=Object(w.a)(g.a.mark((function e(){var t,a,c,s,n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H);case 2:return t=e.sent,e.next=5,t.json();case 5:for(a=e.sent,T(a.data.movie.title),M(a.data.movie.medium_cover_image),c=[],s=0;s<a.data.movie.genres.length-1;s++)c=[].concat(Object(N.a)(c),[" ".concat(a.data.movie.genres[s],",")]);return n=a.data.movie.genres[a.data.movie.genres.length-1],x(c),x([].concat(Object(N.a)(c),[" ".concat(n)])),r(a.data.movie),e.next=16,a.data.movie.torrents.map((function(e){return Object(h.jsxs)("a",{style:{color:"#ccc",textDecoration:"none",fontSize:"1.3rem"},href:e.url,className:"link-torrent d-flex my-1 mx-2 py-3 px-3",children:[Object(h.jsxs)(I.a.Item,{className:"d-flex d-sm-none justify-content-around",href:e.url,children:[Object(h.jsx)("i",{className:"bi bi-tv me-2",children:e.quality}),Object(h.jsxs)("i",{className:"bi bi-hdd me-2",children:[" ",e.size]})]}),Object(h.jsxs)(B.a,{className:"torrent-row w-100 d-none d-sm-flex",children:[Object(h.jsxs)(L.a,{className:"torrent-type",children:[Object(h.jsx)("i",{className:"bi bi-film me-2"}),"".concat(e.type.charAt(0).toUpperCase()).concat(e.type.slice(1))]}),Object(h.jsxs)(L.a,{className:"torrent-quality",children:[Object(h.jsx)("i",{className:"bi bi-tv me-2"}),e.quality]}),Object(h.jsxs)(L.a,{className:"torrent-size",children:[Object(h.jsx)("i",{className:"bi bi-hdd me-2"}),e.size]}),Object(h.jsx)(L.a,{xs:"auto",children:Object(h.jsx)("a",{className:"torrent-magnet w-100 h-100",href:"magnet:?xt=urn:btih:".concat(e.hash,"&dn=").concat(e.url),children:Object(h.jsx)(P.a,{icon:G.a})})})]})]})}));case 16:i=e.sent,d(i);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)(h.Fragment,{children:n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-center d-md-none",style:{backgroundImage:"url(".concat(n.background_image,")"),backgroundSize:"cover"},children:Object(h.jsx)("img",{className:"m-2 movie-detail-cover h-75",src:n.medium_cover_image,alt:"movie cover"})}),Object(h.jsxs)(y.a,{fluid:!0,className:"movie-detail-container-mobile d-flex flex-column d-md-none d-xl-none p-3",children:[Object(h.jsxs)("div",{className:"movie-detail-info mx-1 mt-3 d-flex flex-column align-items-start",children:[Object(h.jsxs)("div",{className:"d-flex align-items-start",children:[Object(h.jsx)("h2",{className:"p-2 me-2",children:n.title}),t&&q]}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Genres"}),": ",u]}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Year"}),": ",n.year]})]}),Object(h.jsxs)("div",{className:"movie-detail-info mt-3 d-flex d-sm-none flex-column align-items-start",children:[Object(h.jsxs)("p",{className:"p-2 h5 mb-3",children:[" ","Description: ",n.description_full]}),Object(h.jsx)("div",{className:"fixed-bottom w-100",children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Toggle,{className:"w-100 py-3",variant:"warning",id:"dropdown-basic",children:Object(h.jsx)("i",{class:" ms-3 h4 bi bi-download",children:" Download"})}),Object(h.jsx)(I.a.Menu,{variant:"dark",className:"w-100",children:j})]})})]})]}),Object(h.jsxs)(y.a,{fluid:!0,className:"movie-detail-container d-none d-md-flex d-xl-none p-3",style:{backgroundImage:"url(".concat(n.background_image,")"),backgroundSize:"cover"},children:[t&&U,Object(h.jsx)("img",{className:"m-2 movie-detail-cover h-75",src:n.medium_cover_image,alt:"movie cover"}),Object(h.jsxs)("div",{className:"movie-detail-info mx-1 mt-3 d-flex flex-column align-items-start",children:[Object(h.jsx)("div",{className:"d-flex align-items-end",children:Object(h.jsx)("h2",{className:"p-2",children:n.title})}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Genres"}),": ",u]}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Year"}),": ",n.year]})]})]}),Object(h.jsx)(y.a,{fluid:!0,className:"movie-detail-container-mobile d-none d-sm-flex d-xl-none flex-column p-3",children:Object(h.jsxs)("div",{className:"movie-detail-info mt-1 d-flex flex-column align-items-start",children:[Object(h.jsxs)("p",{className:"p-2 h5 mb-3",children:[Object(h.jsx)("b",{children:Object(h.jsx)("u",{children:"Description:"})})," ",Object(h.jsx)("br",{}),n.description_full]}),Object(h.jsxs)("div",{className:"torrents-container-mobile py-2 w-100",children:[Object(h.jsx)("div",{className:"pb-2 download w-100",children:Object(h.jsx)("i",{class:" ms-3 h4 bi bi-download",children:" Download"})}),j]})]})}),Object(h.jsxs)(y.a,{fluid:!0,className:"movie-detail-container d-none d-xl-flex p-3",style:{backgroundImage:"url(".concat(n.background_image,")"),backgroundSize:"cover"},children:[Object(h.jsxs)("div",{children:[t&&R,Object(h.jsx)("img",{className:"m-2 movie-detail-cover",src:n.large_cover_image,alt:"movie cover"})]}),Object(h.jsxs)("div",{className:"movie-detail-info mx-4 mt-3 d-flex flex-column align-items-start",children:[Object(h.jsx)("div",{className:"d-flex align-items-center",children:Object(h.jsx)("h2",{className:"p-2",children:n.title})}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Genres"}),": ",u]}),Object(h.jsxs)("p",{className:"p-2 h4",children:[Object(h.jsx)("u",{children:"Year"}),": ",n.year]}),Object(h.jsx)("p",{className:"p-2 h5",children:n.description_full}),Object(h.jsxs)("div",{className:"torrents-container py-2 w-100",children:[Object(h.jsx)("div",{className:"pb-2 download w-100",children:Object(h.jsx)("i",{class:" ms-3 h4 bi bi-download",children:" Download"})}),j]})]})]})]}):Object(h.jsx)(y.a,{fluid:!0,className:"w-100 vh-100 d-flex justify-content-center align-items-center ",children:Object(h.jsx)(S.a,{animation:"border",variant:"warning",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},F=(a(121),a(122),a(51)),D=a(62),z=function(e){var t=e.movieId,a=e.title,s=e.year,n=e.rating,r=e.genre,o=e.img,l=e.user,j=Object(c.useState)(!1),d=Object(i.a)(j,2),m=d[0],b=d[1],u=Object(c.useState)(a),x=Object(i.a)(u,2),O=x[0],p=(x[1],Object(c.useState)(o)),f=Object(i.a)(p,2),v=f[0],N=(f[1],"https://server-moviewebpage.herokuapp.com/favoritos/".concat(t));Object(c.useEffect)(Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N,{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:"hay favorito"===e.sent.message?b(!0):b(!1);case 7:case"end":return e.stop()}}),e)}))),[l]);var k,y=function(e){if(e.preventDefault(),m)fetch(N,{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),b(!1);else{var t={movieName:O,movieCover:v};fetch(N,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),b(!0)}};return k=m?Object(h.jsx)("i",{onClick:y,className:"bookmark-sm ms-auto bi bi-bookmark-heart-fill"}):Object(h.jsx)("i",{onClick:y,className:"bookmark-sm ms-auto bi bi-bookmark-heart"}),Object(h.jsx)(D.b,{className:"text-decoration-none",to:"/movie/".concat(t),children:Object(h.jsxs)(F.a,{className:"mx-2 mb-2 p-0 movie-card",bg:"dark",children:[Object(h.jsxs)(F.a.ImgOverlay,{children:[Object(h.jsxs)("div",{className:"genre-container d-none d-md-flex flex-wrap",children:[r&&Object(h.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[Object(h.jsx)("span",{className:"p-1 px-2",children:r[0]}),r[1]&&Object(h.jsx)("span",{className:" mt-1 p-1 px-2",children:r[1]})]}),l&&k]}),Object(h.jsx)("div",{className:"d-flex"})]}),Object(h.jsx)(F.a.Img,{variant:"top",src:o}),Object(h.jsxs)(F.a.Body,{className:"d-none d-md-flex flex-column pb-0 px-4",children:[Object(h.jsxs)(F.a.Title,{children:[a," "]}),Object(h.jsx)(F.a.Text,{children:Object(h.jsxs)("div",{className:"card-tag-container d-flex",children:[Object(h.jsx)("p",{className:"me-1 botones-link",children:s}),Object(h.jsxs)("p",{children:[n," \u2b50"]})]})})]})]})})},M=a(142),J=a(140),H=a(141),V=a(139);H.a.use([V.a]);var q=function(e){var t=e.mode,a=e.user,s=Object(c.useState)(null),n=Object(i.a)(s,2),r=n[0],o=n[1],l="",j="";return"like"===t?(l="https://yts.mx/api/v2/list_movies.json?limit=20&sort_by=like_count",j=Object(h.jsxs)("header",{className:"section-header p-2 d-flex",children:[Object(h.jsx)("i",{className:"bi bi-heart-fill h2 header-icon"}),Object(h.jsx)("h2",{className:"section-title ms-3",children:"Populares entre los usuarios:"})]})):"last"===t?(l="https://yts.mx/api/v2/list_movies.json?limit=20&sort_by=date_added",j=Object(h.jsxs)("header",{className:"section-header p-2 d-flex",children:[Object(h.jsx)("i",{className:"bi bi-clock h2 header-icon"}),Object(h.jsx)("h2",{className:"section-title ms-3",children:"\xdaltimas a\xf1adidas:"})]})):"year"===t&&(l="https://yts.mx/api/v2/list_movies.json?limit=20&sort_by=year",j=Object(h.jsxs)("header",{className:"section-header p-2 d-flex",children:[Object(h.jsx)("i",{className:"bi bi-film h2 header-icon"}),Object(h.jsx)("h2",{className:"section-title ms-3",children:"\xdaltimas pel\xedculas:"})]})),Object(c.useEffect)((function(){fetch(l).then((function(e){return e.json()})).then((function(e){return o(e.data.movies)}))}),[]),Object(h.jsxs)(h.Fragment,{children:[j,Object(h.jsx)(M.a,{navigation:!0,loop:!0,spaceBetween:50,slidesPerView:3,breakpoints:{0:{slidesPerView:2,spaceBetween:0,slidesPerGroup:1},540:{slidesPerView:3,spaceBetween:30,slidesPerGroup:2},900:{slidesPerView:4,spaceBetween:40,slidesPerGroup:3},1100:{slidesPerView:5,spaceBetween:40,slidesPerGroup:4},1300:{slidesPerView:6,spaceBetween:60,slidesPerGroup:5},1500:{slidesPerView:7,spaceBetween:40,slidesPerGroup:6}},children:r?Object(h.jsx)(h.Fragment,{children:r.map((function(e){return Object(h.jsx)(J.a,{children:Object(h.jsx)(z,{movieId:e.id,title:e.title_english,year:e.year,sum:e.summary,rating:e.rating,genre:e.genres,img:e.medium_cover_image,user:a})})}))}):Object(h.jsx)(y.a,{className:"w-100 d-flex justify-content-center align-items-center",fluid:!0,children:Object(h.jsx)(S.a,{className:"m-5",animation:"grow",variant:"warning"})})})]})},U=a(21),R=a(34),Y=a.n(R),Q=function(e){var t=e.onShow,a=e.onClose,s=e.onLoginSuccess,n=Object(c.useState)(""),r=Object(i.a)(n,2),o=r[0],l=r[1],j=Object(c.useState)(""),d=Object(i.a)(j,2),m=d[0],b=d[1],x=function(){var e=Object(w.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:o,password:m},"https://server-moviewebpage.herokuapp.com/auth",e.next=4,fetch("https://server-moviewebpage.herokuapp.com/auth",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,200===a.status?s(c.data):Y.a.fire({icon:"error",title:c.message});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(U.a,{className:"login-modal",show:t,onHide:a,children:[Object(h.jsx)(U.a.Header,{closeButton:!0,children:Object(h.jsx)(U.a.Title,{children:"Login"})}),Object(h.jsx)(U.a.Body,{children:Object(h.jsxs)(u.a,{children:[Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(u.a.Label,{children:"Email address"}),Object(h.jsx)(u.a.Control,{value:o,onChange:function(e){l(e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(u.a.Label,{children:"Password"}),Object(h.jsx)(u.a.Control,{value:m,onChange:function(e){b(e.target.value)},type:"password",placeholder:"Enter password"})]})]})}),Object(h.jsxs)(U.a.Footer,{className:"moda-footer",children:[Object(h.jsx)(O.a,{variant:"secondary",onClick:a,children:"Close"}),Object(h.jsx)(O.a,{variant:"warning",onClick:x,children:"Login"})]})]})})},A=function(e){var t=e.onShow,a=e.onClose,s=Object(c.useState)(""),n=Object(i.a)(s,2),r=n[0],o=n[1],l=Object(c.useState)(""),j=Object(i.a)(l,2),d=j[0],m=j[1],b=Object(c.useState)(""),x=Object(i.a)(b,2),p=x[0],f=x[1],v=Object(c.useState)(""),N=Object(i.a)(v,2),k=N[0],y=N[1],S=Object(c.useState)(""),C=Object(i.a)(S,2),_=C[0],E=C[1],L=Object(c.useState)(""),B=Object(i.a)(L,2),I=B[0],P=B[1],G=function(){var e=Object(w.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===p){e.next=4;break}Y.a.fire({icon:"error",title:"Las contrase\xf1as no coinciden"}),e.next=17;break;case 4:if(d&&p){e.next=8;break}Y.a.fire({icon:"error",title:"Escriba una contrase\xf1a v\xe1lida"}),e.next=17;break;case 8:return t={email:r,password:d,name:k,surname:_,dni:I},"https://server-moviewebpage.herokuapp.com/user",e.next=12,fetch("https://server-moviewebpage.herokuapp.com/user",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 12:return a=e.sent,e.next=15,a.json();case 15:c=e.sent,200===a.status?Y.a.fire({icon:"success",title:c.message}):Y.a.fire({icon:"error",title:c.message});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(U.a,{className:"signup-modal",show:t,onHide:a,children:[Object(h.jsx)(U.a.Header,{closeButton:!0,children:Object(h.jsx)(U.a.Title,{children:"Signup"})}),Object(h.jsx)(U.a.Body,{children:Object(h.jsxs)(u.a,{children:[Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(u.a.Label,{children:"Email address"}),Object(h.jsx)(u.a.Control,{value:r,onChange:function(e){o(e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(u.a.Label,{children:"Password"}),Object(h.jsx)(u.a.Control,{value:d,onChange:function(e){m(e.target.value)},type:"password",placeholder:"Enter password"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicPassword2",children:[Object(h.jsx)(u.a.Label,{children:"Confirm Password"}),Object(h.jsx)(u.a.Control,{value:p,onChange:function(e){f(e.target.value)},type:"password",placeholder:"Enter password"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(h.jsx)(u.a.Label,{children:"Name"}),Object(h.jsx)(u.a.Control,{value:k,onChange:function(e){y(e.target.value)},type:"text",placeholder:"Enter name"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicSurname",children:[Object(h.jsx)(u.a.Label,{children:"Surname"}),Object(h.jsx)(u.a.Control,{value:_,onChange:function(e){E(e.target.value)},type:"text",placeholder:"Enter surname"})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicDni",children:[Object(h.jsx)(u.a.Label,{children:"DNI"}),Object(h.jsx)(u.a.Control,{value:I,onChange:function(e){P(e.target.value)},type:"text",placeholder:"Enter dni"})]})]})}),Object(h.jsxs)(U.a.Footer,{children:[Object(h.jsx)(O.a,{variant:"secondary",onClick:a,children:"Close"}),Object(h.jsx)(O.a,{variant:"warning",onClick:G,children:"Signup"})]})]})})},K=function(e){var t=e.onShow,a=e.onClose,s=e.user,n=e.modifyUser,r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(i.a)(d,2),b=m[0],x=m[1],p=Object(c.useState)(""),f=Object(i.a)(p,2),v=f[0],N=f[1],k=Object(c.useState)(""),y=Object(i.a)(k,2),S=y[0],C=y[1],_=Object(c.useState)(""),E=Object(i.a)(_,2),L=E[0],B=E[1],I=Object(c.useState)(""),P=Object(i.a)(I,2),G=P[0],T=P[1],F="https://server-moviewebpage.herokuapp.com/user";Object(c.useEffect)(Object(w.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F,{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(a[0].email),x(a[0].password),N(a[0].password),C(a[0].nombre),B(a[0].apellido),T(a[0].dni);case 12:case"end":return e.stop()}}),e)}))),[t]);var D=function(){var e=Object(w.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===v){e.next=4;break}Y.a.fire({title:"Las contrase\xf1as no coinciden",icon:"error"}),e.next=16;break;case 4:if(b&&v){e.next=8;break}Y.a.fire({title:"Escriba una contrase\xf1a v\xe1lida",icon:"error"}),e.next=16;break;case 8:return t={email:l,password:b,name:S,surname:L,dni:G},e.next=11,fetch(F,{method:"PUT",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 11:return a=e.sent,e.next=14,a.json();case 14:c=e.sent,200===a.status?(Y.a.fire({icon:"success",title:c.message}),fetch(F,{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return n("".concat(e[0].nombre," ").concat(e[0].apellido))}))):Y.a.fire({icon:"error",title:c.message});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsxs)(U.a,{className:"edit-modal",show:t,onHide:a,children:[Object(h.jsx)(U.a.Header,{closeButton:!0,children:Object(h.jsx)(U.a.Title,{children:"Edit User"})}),Object(h.jsx)(U.a.Body,{children:Object(h.jsxs)(u.a,{children:[Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(u.a.Label,{children:"Email address"}),Object(h.jsx)(u.a.Control,{value:l,onChange:function(e){j(e.target.value)},type:"email",placeholder:""})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(u.a.Label,{children:"Password"}),Object(h.jsx)(u.a.Control,{value:b,onChange:function(e){x(e.target.value)},type:"password",placeholder:""})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicPassword2",children:[Object(h.jsx)(u.a.Label,{children:"Confirm Password"}),Object(h.jsx)(u.a.Control,{value:v,onChange:function(e){N(e.target.value)},type:"password",placeholder:""})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(h.jsx)(u.a.Label,{children:"Name"}),Object(h.jsx)(u.a.Control,{value:S,onChange:function(e){C(e.target.value)},type:"text",placeholder:""})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicSurname",children:[Object(h.jsx)(u.a.Label,{children:"Surname"}),Object(h.jsx)(u.a.Control,{value:L,onChange:function(e){B(e.target.value)},type:"text",placeholder:""})]}),Object(h.jsxs)(u.a.Group,{className:"mb-3",controlId:"formBasicDni",children:[Object(h.jsx)(u.a.Label,{children:"DNI"}),Object(h.jsx)(u.a.Control,{value:G,onChange:function(e){T(e.target.value)},type:"text",placeholder:""})]})]})}),Object(h.jsxs)(U.a.Footer,{children:[Object(h.jsx)(O.a,{variant:"secondary",onClick:a,children:"Close"}),Object(h.jsx)(O.a,{variant:"warning",onClick:D,children:"Save"})]})]})})},W=function(e){e.user;var t=Object(c.useState)(null),a=Object(i.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)(Object(w.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://server-moviewebpage.herokuapp.com/favoritos/user",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(a.data);case 7:case"end":return e.stop()}}),e)}))),[]),Object(h.jsx)(h.Fragment,{children:s?Object(h.jsx)(y.a,{fluid:!0,className:"w-100 d-flex flex-wrap p-5 bookmark-container",children:s.map((function(e){return Object(h.jsx)("div",{className:" m-1",children:Object(h.jsx)(m.a,{to:"/movie/".concat(e.movie_id),children:Object(h.jsx)("img",{className:"bookmark-cover",src:e.movie_cover})})})}))}):Object(h.jsx)(y.a,{className:"w-100 d-flex justify-content-center align-items-center",fluid:!0,children:Object(h.jsx)(S.a,{className:"m-5",animation:"grow",variant:"warning"})})})};var X=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(i.a)(n,2),o=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),m=d[0],b=d[1],u=Object(c.useState)(!1),x=Object(i.a)(u,2),O=x[0],p=x[1],v=function(){l(!1)},g=function(){p(!1)};return Object(c.useEffect)((function(){fetch("https://server-moviewebpage.herokuapp.com/auth/check",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){"ok"===e.message&&s(e.data.name)}))}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(D.a,{children:[Object(h.jsx)(A,{onShow:m,onClose:function(){b(!1)}}),Object(h.jsx)(Q,{onShow:o,onClose:v,onLoginSuccess:function(e){s(e),v()}}),Object(h.jsx)(K,{onShow:O,onClose:g,user:a,modifyUser:function(e){s(e),g()}}),Object(h.jsx)(f,{user:a,onLogout:function(){fetch("https://server-moviewebpage.herokuapp.com/auth",{method:"DELETE",credentials:"include"}).then((function(e){200===e.status?s(null):console.log("Error al cerrar sesi\xf3n")}))},onShowLoginModal:function(){l(!0)},onShowSignupModal:function(){b(!0)},onShowEditUserModal:function(){p(!0)}}),Object(h.jsxs)(E.Switch,{children:[Object(h.jsxs)(E.Route,{path:"/",exact:!0,children:[Object(h.jsx)(C,{}),Object(h.jsxs)("div",{className:"px-2 px-lg-4",children:[Object(h.jsx)(q,{user:a,mode:"like"}),Object(h.jsx)(q,{user:a,mode:"last"}),Object(h.jsx)(q,{user:a,mode:"year"})]})]}),Object(h.jsx)(E.Route,{path:"/movie/:id",children:Object(h.jsx)(T,{user:a})}),Object(h.jsx)(E.Route,{path:"/bookmarks",children:Object(h.jsx)(W,{user:a})})]}),Object(h.jsx)(_,{})]})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(X,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.874780fe.chunk.js.map